<!doctype html>
<html class="no-js" lang="">
<head>
    <meta charset="utf-8">
    <title>Vlab3</title>
    <meta name="description" content="Virtual Lab">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <script>
        var data = {
            assignment: {
	"assignmentText" : "<em>Potassium Permanganate Titration:<\/em>  Using the Virtual Laboratory, design and perform a titration to determine the concentration of the unknown KMnO<sub>4<\/sub> solution to four significant figures."
},
            configuration: {
  "title": "Iron Thiocyanate Equilibrium",
    "solutionModellers": {
      "specificHeat": "solvent2"
  },
  "solutionViewers": [
	{
      "id": "solutionProperties",
      "displayDefault": true,
      "args": {
        "honorSignificantFigures": false
      }
    	},

        {
      "id": "aqueous",
      "displayDefault": true,
      "args": {
        "unitsToggleEnabled": true
      }
    },
    {
      "id": "solid",
      "displayDefault": true,
      "args": {
        "unitsToggleEnabled": true
      }
    },
    {
      "id": "spectrometer",
      "displayDefault": false
    },
    {
      "id": "particleView",
      "displayDefault": false
    },
    {
      "id": "thermometer",
      "displayDefault": true
    },
    {
      "id": "pH",
      "displayDefault": true
    },
    {
      "id": "vesselTrackingControl",
      "displayDefault": false
    }
  ],
  "transfer": ["precise", "significantFigures","realistic"]
},
            reactions: {
  "REACTIONS": {
    "REACTION": [
      {
        "SPECIES_REF": [
          {
            "id": "0",
            "coefficient": "-1"
          },
          {
            "id": "1",
            "coefficient": "1"
          },
          {
            "id": "2",
            "coefficient": "1"
          }
        ]
      },
	  {
        "SPECIES_REF": [
          {
            "id": 3,
            "coefficient": -1
          },
          {"id": 4,
          "coefficient": -1},
          {"id": 5,
          "coefficient": 1}
        ]
      },
      {
        "SPECIES_REF": [{"id": 3, "coefficient": -1},
 {"id": 0, "coefficient": -1},
 {"id": 8, "coefficient": 1},
 {"id": 1, "coefficient": 1}]
      }
    ]
  }
},
            solutions: {
   "FILESYSTEM": {
      "DIRECTORY": [
         {
            "name": "stockroom", 
            "SOLUTION": [
               {
                  "name": "Distilled H<sub>2</sub>O", 
                  "description": "Distilled Water", 
                  "volume": "3.0", 
                  "vessel": "3LCarboy",
                  "species": [
                     {
                        "id": 0
                     }
                  ]
               },
               {
                "name": "0.1 M Fe(NO<sub>3</sub>)<sub>3</sub>",
                "description": "0.10 M Iron (III) nitrate",
                "volume": 0.1,
                "species": [
                  {"id": 0},
                  {"id": 3, "amount": 0.01},
                  {"id": 6, "amount": 0.03}
                ]
               },
              {
                "name": "0.1 M KSCN",
                "description": "0.10 M Potassium thiocyanate",
                "volume": 0.1,
                "species": [
                  {"id": 0},
                  {"id": 4, "amount": 0.01},
                  {"id": 7, "amount": 0.01}
                ]
               }
            ]
         }
      ]
   }
},
            species: {
    "SPECIES_LIST": {
        "SPECIES": [
            {
                "id": 0,
                "name": "H<sub>2</sub>O",
                "enthalpy": -285.83,
                "entropy": 69.91,
                "state": "l",
                "molecularWeight": 18.016
            },
            {
                "id": 1,
                "name": "H<sup>+</sup>",
                "enthalpy": 0.0,
                "entropy": 0.0,
                "molecularWeight": 1.008
            },
            {
                "id": 2,
                "name": "OH<sup>-</sup>",
                "enthalpy": -229.99,
                "entropy": -10.75,
                "molecularWeight": 17.008
            },
            {
                "id": 3,
                "name": "Fe<sup>3+</sup>",
                "simpleName": "Fe3+",
                "state": "aq",
                "enthalpy": -48.5,
                "entropy": -315.9,
                "density": 3,
                "specificHeat": 0.0,
                "molecularWeight": 55.845,
                "hue": 44.0,
                "saturation": 72.0,
                "value": 96.0,
                "colorConcentration": 0.1
            },
            {
                "id": 4,
                "name": "SCN<sup>-</sup>",
                "simpleName": "SCN-",
                "state": "aq",
                "enthalpy": 76.4,
                "entropy": 144.3,
                "density": 3,
                "specificHeat": -0.165,
                "molecularWeight": 58.08
            },
            {
                "id": 5,
                "name": "FeSCN<sup>2+</sup>",
                "simpleName": "FeSCN2+",
                "state": "aq",
                "enthalpy": 31.25,
                "entropy": -119.0,
                "density": 6,
                "specificHeat": -0.165,
                "molecularWeight": 113.925,
                "hue": 0.0,
                "saturation": 98.0,
                "value": 54.0,
                "colorConcentration": 0.001
            },
            {
                "id": 6,
                "name": "NO<sub>3</sub><sup>-</sup>",
                "simpleName": "NO3-",
                "state": "aq",
                "enthalpy": -207.4,
                "entropy": 146.4,
                "density": 3,
                "specificHeat": -0.333810663,
                "molecularWeight": 62.0049
            },
            {
                "id": 7,
                "name": "K<sup>+</sup>",
                "simpleName": "K+",
                "state": "aq",
                "enthalpy": -252.4,
                "entropy": 102.5,
                "density": 3,
                "specificHeat": 0.133262189,
                "molecularWeight": 39.0983
            },
            {
                "id": 8,
                "name": "FeOH<sup>2+</sup>",
                "simpleName": "FeOH2+",
                "state": "aq",
                "enthalpy": -290.8,
                "entropy": -142.0,
                "density": 4,
                "specificHeat": 0.0,
                "molecularWeight": 72.852
            }
        ]
    }
},
            spectra: {
  "SPECTRA_LIST": {
    "SPECIES": []
  }
}
        };


/*<![CDATA[*/
function numTimestamp() {
    var d=new Date();
    var month=d.getMonth()+1;
    var day=d.getDate();
    var minutes=d.getMinutes();
    var seconds=d.getSeconds();
    var hours=d.getHours();
    return ""+d.getFullYear()+((month>9)?month:("0"+month))+((day>9)?day:("0"+day))+((hours>9)?hours:("0"+hours))
            +((minutes>9)?minutes:("0"+minutes))+((seconds>9)?seconds:("0"+seconds));
}

function activateSession (e) {
    let vlabsession= numTimestamp()+"_chemwiki"+(Math.floor(Math.random() * (9999999 -1000000 )) + 1000000);

    let message = {
        assignmentPath: "Community/ualr/diproticAcid",
        userName: "Anonymous",
        session: vlabsession,
        loggingEnabled: false,
        destination: "server"
    };

	let labframe = document.getElementById("labframe").contentWindow;
    console.log(message,e);

    labframe.postMessage(message, "https://ryanpdwyer.github.io/");
	// labframe.postMessage(message, "https://chemcollective.oli.cmu.edu");
    // labframe.postMessage(message, "https://ryanpdwyer.github.io/");
    document.getElementById("labframe").addEventListener("load", activateSession);
}

window.addEventListener("DOMContentLoaded", activateSession);
window.addEventListener("load", activateSession);/*]]>*/

        function getWorkbenchItems() {
            return labInfo.getWorkbenchItems();
        }
        function isFinishedLoading() {
            return labInfo.isFinishedLoading();
        }
        function getSelectedItem() {
            return labInfo.getSelectedItem();
        }
        function loadAssignmentJSON(data) {
            labInfo.loadAssignmentJSON(data);
        }
    </script>
    <!-- endbuild -->
</head>
<body>
<!--[if lt IE 10]>
<p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
<![endif]-->

<h2>
  Making a New Virtual Lab
</h2>

<p>You can create your own virtual lab by forking this repository on Github and following the steps below.</p>



<iframe id="labframe" src="https://chemcollective.net/chem/jsvlab/vlab.html" style="width:100%; height: 650px;">
</iframe>
<!-- build:js scripts/main.js -->
<!-- endbuild -->

<script>
	// 	var labframe = document.getElementById("labframe").contentWindow;
	// 	labframe.onload = function () {
    //   // Change the targetOrigin to your domain  
	// 		labframe.postMessage(message, "https://ryanpdwyer.github.io/");
	// 	}
</script>
</body>
</html>